import { Component, Input, Output, EventEmitter, ViewEncapsulation, } from '@angular/core';
export class EventcalendarComponent {
    constructor() {
        this.options = {};
        this.addEvent = new EventEmitter();
        this.updateEvent = new EventEmitter();
        this.gotoMonth = 0;
        this.count = 0;
        this.events = [];
        this.acutalEvent = [];
        this.filterEvent = [];
        this.isEventClicked = false;
        this.openMoreModal = false;
        this.currentMonth = '';
        this.displayDate = '';
        this.weekdaysShort = [];
        this.weekdaysLong = [];
        this.title = '';
        this.btnPrimaryBgColor = '';
        this.btnPrimaryFontColor = '';
        this.showEventProfilePicture = true;
        this.isAddShown = false;
        this.isEditShown = false;
        this.eventID = '';
        this.eventName = '';
        this.startDate = '';
        this.endDate = '';
    }
    ngOnInit() {
        var _a;
        this.events = this.options.events || [];
        this.title =
            this.options.title === '' || this.options.title === undefined
                ? 'My Calendar'
                : this.options.title;
        this.btnPrimaryBgColor =
            this.options.btnPrimaryBgColor === '' ||
                this.options.btnPrimaryBgColor === undefined
                ? '#7466f5'
                : this.options.btnPrimaryBgColor;
        this.btnPrimaryFontColor =
            this.options.btnPrimaryFontColor === '' ||
                this.options.btnPrimaryFontColor === undefined
                ? '#fff'
                : this.options.btnPrimaryFontColor;
        this.showEventProfilePicture =
            this.options.showEventProfilePicture === false ? false : true;
        this.weekdaysShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        this.weekdaysLong = [
            'Sunday',
            'Monday',
            'Tuesday',
            'Wednesday',
            'Thursday',
            'Friday',
            'Saturday',
        ];
        this.eventCalendar();
        const d = new Date();
        const day = d.getDate();
        const month = d.getMonth();
        const year = d.getFullYear();
        for (let i = 1; i <= 12; i++) {
            var dt = new Date(year, month, day);
            dt.setMonth(dt.getMonth() + (6 - (12 - i)));
            const monthLists = document.createElement('a');
            monthLists.setAttribute('data-id', (6 - (12 - i)).toString());
            monthLists.innerText =
                dt.toLocaleDateString('en-us', { month: 'short' }) + ', ' + year;
            monthLists.addEventListener('click', (e) => {
                this.getSelectMonth(e);
            });
            (_a = document.querySelector('.ec-dropdown-content')) === null || _a === void 0 ? void 0 : _a.appendChild(monthLists);
        }
    }
    eventCalendar() {
        var _a, _b, _c;
        const dt = new Date();
        if (this.gotoMonth !== 0) {
            dt.setMonth(new Date().getMonth() + this.gotoMonth);
        }
        const day = dt.getDate();
        const month = dt.getMonth();
        const year = dt.getFullYear();
        const numberOfDaysInMonth = new Date(year, month + 1, 0).getDate();
        const numberOfDaysInPrevMonth = new Date(year, month, 0).getDate();
        const firstDayOfMonth = new Date(year, month, 1);
        const findNameOfDay = firstDayOfMonth.toLocaleDateString('en-us', {
            weekday: 'long',
            year: 'numeric',
            month: 'numeric',
            day: 'numeric',
        });
        this.currentMonth =
            dt.toLocaleDateString('en-us', { month: 'short' }) + ', ' + year;
        const paddingDays = this.weekdaysLong.indexOf(findNameOfDay.split(', ')[0]);
        const prevMonthsRemainingDays = numberOfDaysInPrevMonth - paddingDays + 1;
        const nextMonthsRemainingDays = 42 - (paddingDays + numberOfDaysInMonth);
        var remove = document.querySelector('.ec-dates');
        while (remove === null || remove === void 0 ? void 0 : remove.lastElementChild) {
            remove.removeChild(remove.lastElementChild);
        }
        if (paddingDays !== 0) {
            for (let i = prevMonthsRemainingDays; i <= numberOfDaysInPrevMonth; i++) {
                const parent = document.createElement('div');
                parent.classList.add('ec-dt');
                const child = document.createElement('div');
                child.classList.add('ec-dt-child', 'ec-dt-disable');
                child.setAttribute('data-dt', `${year}-${month}-${i}`);
                child.innerText = i.toString();
                parent.appendChild(child);
                (_a = document.querySelector('.ec-dates')) === null || _a === void 0 ? void 0 : _a.appendChild(parent);
            }
        }
        for (let i = 1; i <= numberOfDaysInMonth; i++) {
            const parent = document.createElement('div');
            parent.classList.add('ec-dt');
            const child = document.createElement('div');
            child.classList.add('ec-dt-child');
            child.setAttribute('data-dt', `${year}-${month + 1}-${i}`);
            const date = document.createElement('div');
            date.classList.add('ec-date');
            date.style.order = '1';
            date.innerText = i.toString();
            child.appendChild(date);
            const dayString = `${year}-${month + 1}-${i}`;
            const more = document.createElement('div');
            this.events.filter((e, i) => new Date(dayString).getTime() >= new Date(e.startDate).getTime() &&
                new Date(dayString).getTime() <= new Date(e.endDate).getTime()
                ? (child.appendChild(this.createNavigationBar(e, i)),
                    this.count > 3
                        ? (more.classList.add('ec-more'),
                            (more.innerText = '+' + (this.count - 3).toString() + ' more'),
                            more.setAttribute('data-dt', dayString),
                            more.addEventListener('click', function () {
                                showMore();
                            }, {
                                once: true,
                            }))
                        : null)
                : null);
            const showMore = () => {
                this.filterEvent = [];
                this.acutalEvent = [];
                this.displayDate = new Date(year, month, i).toLocaleDateString('en-us', {
                    month: 'long',
                    day: 'numeric',
                    year: 'numeric',
                });
                this.events.filter((f, i) => new Date(dayString).getTime() >= new Date(f.startDate).getTime() &&
                    new Date(dayString).getTime() <= new Date(f.endDate).getTime()
                    ? this.acutalEvent.push(f)
                    : '');
                this.filterEvent = [...new Set(this.acutalEvent)];
                console.log(this.filterEvent);
                this.dayString = dayString;
                this.openMoreModal = true;
            };
            child.appendChild(more);
            this.count = 0;
            parent.appendChild(child);
            (_b = document.querySelector('.ec-dates')) === null || _b === void 0 ? void 0 : _b.appendChild(parent);
        }
        for (let i = 1; i <= nextMonthsRemainingDays; i++) {
            const parent = document.createElement('div');
            parent.classList.add('ec-dt');
            const child = document.createElement('div');
            child.classList.add('ec-dt-child', 'ec-dt-disable');
            child.setAttribute('data-dt', `${year}-${month + 2}-${i}`);
            child.innerText = i.toString();
            parent.appendChild(child);
            (_c = document.querySelector('.ec-dates')) === null || _c === void 0 ? void 0 : _c.appendChild(parent);
        }
    }
    createNavigationBar(e, i) {
        this.count = this.count + 1;
        if (this.count <= 3) {
            return this.gridNavigationBar(e, true, i);
        }
        else {
            return this.gridNavigationBar(e, false, i);
        }
    }
    gridNavigationBar(e, toggle, i) {
        const eventBar = document.createElement('div');
        eventBar.style.backgroundColor = e.background;
        if (toggle) {
            eventBar.classList.add('ec-event-title');
        }
        else {
            eventBar.classList.add('ec-event-title', 'ec-extra');
        }
        eventBar.style.order = i + 2;
        eventBar.addEventListener('click', () => {
            console.log(e);
            this.selectEvent(e);
        });
        const img = document.createElement('img');
        if (this.showEventProfilePicture) {
            if (e.thumbnail) {
                img.setAttribute('src', e.thumbnail);
            }
            else {
                img.setAttribute('src', `data:image/png;base64,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`);
            }
            eventBar.appendChild(img);
        }
        const title = document.createElement('div');
        title.innerText = e.title;
        title.setAttribute('title', e.title);
        eventBar.appendChild(title);
        return eventBar;
    }
    addUnavailable() {
        this.isAddShown = true;
        this.isEditShown = false;
    }
    eventTitle(e) {
        this.eventName = e.target.value;
    }
    eventStartDate(e) {
        let start = e.target.value;
        let sd = new Date(start);
        this.startDate =
            sd.getFullYear() + '-' + (sd.getMonth() + 1) + '-' + sd.getDate();
    }
    eventEndDate(e) {
        let end = e.target.value;
        let ed = new Date(end);
        this.endDate =
            ed.getFullYear() + '-' + (ed.getMonth() + 1) + '-' + ed.getDate();
    }
    addNewEvent(e) {
        e.preventDefault();
        let newEvent = {
            title: this.eventName,
            startDate: this.startDate,
            endDate: this.endDate,
        };
        console.log(newEvent);
        this.addEvent.emit(newEvent);
        this.cancel();
    }
    selectEvent(e) {
        this.isAddShown = false;
        this.openMoreModal = false;
        this.isEditShown = true;
        let s = new Date(e.startDate);
        let start = s.getFullYear() + '-' + (s.getMonth() + 1) + '-' + s.getDate();
        let ed = new Date(e.endDate);
        let end = ed.getFullYear() + '-' + (ed.getMonth() + 1) + '-' + ed.getDate();
        this.eventID = e.id;
        this.eventName = e.title;
        this.startDate = new Date(start);
        this.endDate = new Date(end);
    }
    update(e) {
        e.preventDefault();
        let s = new Date(this.startDate);
        let start = s.getFullYear() + '-' + (s.getMonth() + 1) + '-' + s.getDate();
        let ed = new Date(this.endDate);
        let end = ed.getFullYear() + '-' + (ed.getMonth() + 1) + '-' + ed.getDate();
        let event = {
            id: this.eventID,
            title: this.eventName,
            startDate: start,
            endDate: end,
        };
        console.log(event);
        this.updateEvent.emit(event);
        this.cancel();
    }
    previousMonth() {
        this.gotoMonth = this.gotoMonth - 1;
        this.eventCalendar();
    }
    nextMonth() {
        this.gotoMonth = this.gotoMonth + 1;
        this.eventCalendar();
    }
    getSelectMonth(e) {
        var s = e.target.getAttribute('data-id');
        this.gotoMonth = parseInt(s);
        this.eventCalendar();
    }
    closeMoreModal() {
        this.openMoreModal = false;
        this.eventCalendar();
    }
    cancel() {
        this.isAddShown = false;
        this.isEditShown = false;
    }
}
EventcalendarComponent.decorators = [
    { type: Component, args: [{
                selector: 'angular-eventcalendar',
                template: "<div class=\"ec-container\">\r\n    <!-- Header -->\r\n    <div class=\"ec-header\">\r\n        <div class=\"ec-header-left\">\r\n            <div class=\"ec-title\">{{title}}</div>\r\n            <div class=\"ec-dropdown-wrap\">\r\n                <div class=\"ec-dropdown\">\r\n                    <div class=\"ec-dropbtn\">\r\n                        <span class=\"ec-display\" [ngStyle]=\"{'color': btnPrimaryBgColor}\">{{currentMonth}}</span>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"ec-shift\">\r\n                <span (click)=\"previousMonth()\">\r\n                    <svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M7 1L1.70711 6.29289C1.31658 6.68342 1.31658 7.31658 1.70711 7.70711L7 13\"\r\n                            [attr.stroke]=\"btnPrimaryBgColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\r\n                    </svg>\r\n                </span>\r\n                <span (click)=\"nextMonth()\">\r\n                    <svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M1 13L6.29289 7.70711C6.68342 7.31658 6.68342 6.68342 6.29289 6.29289L1 1\"\r\n                            [attr.stroke]=\"btnPrimaryBgColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\r\n                    </svg>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <div class=\"ec-header-right\">\r\n            <button class=\"ec-event-btn\" (click)=\"addUnavailable()\"\r\n                [ngStyle]=\"{'background-color': btnPrimaryBgColor, 'color': btnPrimaryFontColor}\">Add New\r\n                Events</button>\r\n        </div>\r\n    </div>\r\n    <!-- EOD Header -->\r\n\r\n    <!-- Weekends -->\r\n    <div class=\"ec-weeks\">\r\n        <div *ngFor=\"let day of weekdaysShort\" class=\"ec-weekday\">{{day}}</div>\r\n    </div>\r\n    <!-- EOD Weekends -->\r\n\r\n    <!-- Week Dates -->\r\n    <div id=\"ec-dates\" class=\"ec-dates\"></div>\r\n    <!-- EOD Week Dates -->\r\n\r\n    <div class=\"ec-more-modal\" *ngIf=\"openMoreModal\">\r\n        <div class='ec-more-dialog'>\r\n            <div class='ec-more-content'>\r\n                <div class=\"ce-more-close\" (click)=\"closeMoreModal()\">\r\n                    <img\r\n                        src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QgWAhMLOuYvZwAAAmxJREFUSMetlE1oE1EUhe+bJFpdKQmmzksyMQlVu5BKprbWhRkrEtAqFgRBcSFSUQwarAZxrZiFKEUXZuOmiBAsFqxEGjIlFX9QaAON1UymJkYjEUuLgmIyneembxYtIb93O3e+c7jn3Qt4D3fUHYtGcafth3txasoatAZ39rAsNLkol+pQXYYcAxPsaG2FPOpE+zs61AfIyYyIYrOMUA7lUh1yFXqQz2xmkKy06Ba8XvIaLsFAOg3/0GV0qK1NvYYI45+YsPgt/u4cxrUKb9q35UzXI7NZxcxzZnB8nHKhn0ThVDa7dBgGdTN9fdoP2Id9uySLhf3C3eFDkoQxx/E8IZix3XKHU6lqjVBhPMztdY8kkxrHZ5P4oUzGTDjSRez2soB6jdQrjCoZIVf0DlUURbQb7kLI5YLv5BwJSBK6qBYM3YJQTBh+k0lFMZxWJaUlFoMAZNDN9nY6amUIuXQ+j6eAsugtymSqNkCLve48wv+xWsGrYBgQRXQcxuCj0wlryW3yLJXSGpczJo/hIGyTZYjov0FIEPI35NH363O5Wt9Q9dHUmvGK0lfbWEqu+YvelUqGuPqUmIrFVeO7D0/I5mLRoF8qoK+lUrXcihGs2mM66iBshZ9zcxooAJ/A5HDQaJizRFb7BSEXyAWmXuXz5fhMuQ8V9/gEvNB97u2FWf06+ODxaNk3ekfqXSf6WNlJ7jx/Mp2u+Y40fEDqNdIs4bqNsL9sD/lwIkEb2GHuAG+XZW3/GyzNyDJXM2K0vXSPTk8jPMaF+TfxOCzAPZI3GsmsfgPyer1NOyArjKDtyiKJRCKwES4gdn7+P/vCu2q6rSdSAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA4LTIyVDAyOjE5OjExKzAwOjAwdpPgeAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wOC0yMlQwMjoxOToxMSswMDowMAfOWMQAAAAASUVORK5CYII=\" />\r\n                </div>\r\n                <div class='ec-more-header'>\r\n                    <div>Events on</div>\r\n                    <div>\r\n                        {{displayDate}}\r\n                    </div>\r\n                </div>\r\n                <div class='ec-more-lists'>\r\n                    <div *ngFor=\"let f of filterEvent\" class=\"ec-more-list\">\r\n                        <div class=\"ec-more-pro\" [ngStyle]=\"{'background-color': f.background}\"\r\n                            (click)=\"selectEvent(f)\">\r\n                            <div *ngIf=\"showEventProfilePicture\">\r\n                                <img *ngIf=\"f.thumbnail\" src=\"{{f.thumbnail}}\" />\r\n\r\n                                <img *ngIf=\"f.thumbnail === '' || f.thumbnail === 'undefined'\"\r\n                                    src=\"data:image/png;base64,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\" />\r\n                            </div>\r\n                            <div>\r\n                                <div>{{f.title}}</div>\r\n                                <div>{{f.startDate | date: 'MM/dd/yyyy'}} - {{f.endDate | date: 'MM/dd/yyyy'}}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"isAddShown\">\r\n    <form class=\"ec-popup\">\r\n        <div class=\"ec-modal\">\r\n            <div class=\"ec-box\">\r\n                <div class=\"tt\">Add New Event</div>\r\n                <div class=\"dd\">\r\n                    <div>\r\n                        <div>Title</div>\r\n                        <div class=\"form-group ec-select-icon\">\r\n                            <input type=\"text\" class=\"form-control\" value=\"{{eventName}}\"\r\n                                (keyup)=\"eventTitle($event)\" />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Dates</div>\r\n                        <div class=\"form-group ec-dates\">\r\n                            <div><input type=\"date\" class=\"form-control custom-date\" [valueAsDate]=\"startDate\"\r\n                                    (change)=\"eventStartDate($event)\" />\r\n                            </div>\r\n                            <div><input type=\"date\" class=\"form-control custom-date\" [valueAsDate]=\"endDate\"\r\n                                    (change)=\"eventEndDate($event)\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"cc form-group\">\r\n                    <button class=\"btn blue-btn\" (click)=\"addNewEvent($event)\">Save</button>\r\n                    <button class=\"btn grey-btn\" (click)=\"cancel()\">Cancel</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div *ngIf=\"isEditShown\">\r\n    <form class=\"ec-popup\">\r\n        <div class=\"ec-modal\">\r\n            <div class=\"ec-box\">\r\n                <div class=\"tt\">Edit Event</div>\r\n                <div class=\"dd\">\r\n                    <div>\r\n                        <div>Title</div>\r\n                        <div class=\"form-group ec-select-icon\">\r\n                            <input type=\"text\" class=\"form-control\" value=\"{{eventName}}\" disabled />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Dates</div>\r\n                        <div class=\"form-group ec-dates\">\r\n                            <div><input type=\"date\" class=\"form-control custom-date\" [valueAsDate]=\"startDate\"\r\n                                    (change)=\"eventStartDate($event)\" />\r\n                            </div>\r\n                            <div><input type=\"date\" class=\"form-control custom-date\" [valueAsDate]=\"endDate\"\r\n                                    (change)=\"eventEndDate($event)\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"cc form-group\">\r\n                    <button class=\"btn blue-btn\" (click)=\"update($event)\">Update</button>\r\n                    <button class=\"btn grey-btn\" (click)=\"cancel()\">Cancel</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>",
                encapsulation: ViewEncapsulation.None,
                styles: ["body{font-family:Open Sans,sans-serif;font-size:14px;color:#1b1f34;background-color:#f3f3f3;padding:40px}.ec-container{width:100%;margin:0 auto}.ec-container .ec-header{display:flex;justify-content:space-between;align-items:center}.ec-header .ec-header-left{display:flex;justify-content:flex-start;align-items:center}.ec-header .ec-header-left>div{padding-right:24px}.ec-header .ec-header-left .ec-title{color:#1b1f34;font-size:28px;line-height:36px;font-weight:700;padding-right:46px}.ec-header .ec-header-left .ec-dropdown-wrap{line-height:32px;border-right:1px solid #bbbfce}.ec-header .ec-header-left .ec-dropdown-wrap .ec-dropdown{position:relative;display:inline-block;cursor:pointer}.ec-header .ec-header-left .ec-dropdown-wrap .ec-dropbtn{color:#1b1f34;width:80px;font-size:16px;border:none;font-weight:700;display:flex;justify-content:flex-start;align-items:center}.ec-dropdown-content{display:none;position:absolute;background-color:#fff;min-width:112px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.ec-dropdown-content a{color:#777f9d;font-size:14px;padding:8px 28px 8px 15px;text-decoration:none;display:block;border-bottom:1px solid #ececec}.ec-dropdown-content a:hover{color:#7466f5;background-color:#f1f0fe}.ec-dropdown:hover .ec-dropdown-content{display:block}.ec-header .ec-header-left .ec-shift{padding-left:9px;line-height:11px}.ec-header .ec-header-left .ec-shift>span{display:inline-block;padding:0 15px;cursor:pointer}.ec-header-right .ec-event-btn{color:#fff;font-family:Open Sans,sans-serif;font-size:14px;line-height:16px;font-weight:600;background:#7466f5;border:none;padding:10px 15px;border-radius:4px;cursor:pointer}.ec-container .ec-weeks{display:flex;justify-content:space-around;align-items:center;margin-top:50px}.ec-container .ec-weeks .ec-weekday{width:14.28%;padding:0 32px;text-align:right;color:#777f9d;text-transform:uppercase;font-weight:700}.ec-container .ec-dates{display:flex;flex-wrap:wrap;margin-top:12px}.ec-container .ec-dates .ec-dt{width:14.28%;border:1px solid #e7e8ed;box-sizing:border-box}.ec-container .ec-dates .ec-dt>div{display:flex;flex-direction:column;color:#1b1f34;height:120px;background:#fff;font-size:14px;font-weight:400;padding:12px;text-align:right;position:relative}.ec-container .ec-dates .ec-dt .ec-dt-child .ec-event-title{cursor:pointer;color:#1b1f34;font-size:10px;line-height:14px;font-weight:600;text-align:left;padding:2px 3px;border-radius:4px;display:flex;justify-content:flex-start;align-items:center;margin-bottom:3px;z-index:2}.ec-container .ec-dates .ec-dt .ec-dt-child .ec-extra{display:none}.ec-container .ec-dates .ec-dt .ec-dt-child .ec-event-title>img{margin-right:5px;width:16px;height:16px;border-radius:2px}.ec-container .ec-dates .ec-dt .ec-dt-child .ec-event-title>div{width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ec-container .ec-dates .ec-dt .ec-dt-child .ec-date{padding-right:20px;margin-bottom:10px}.ec-container .ec-dates .ec-dt .ec-dt-child .ec-more{position:absolute;top:7px;left:12px;font-size:12px;font-weight:600;padding:4px 8px;background-color:#1b1f34;color:#fff;border-radius:4px;cursor:pointer}.ec-container .ec-dates .ec-dt>.ec-dt-disable{color:#c7c7c7}.ec-container .ec-more-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(81,72,170,.5);z-index:2;display:flex;justify-content:flex-end;align-items:flex-start}.ec-container .ec-more-modal .ec-more-dialog .ce-more-close{position:absolute;top:16px;right:20px;cursor:pointer}.ec-container .ec-more-modal .ec-more-dialog{width:300px;height:100%;background-color:#fff;overflow:hidden;padding:30px 20px;box-sizing:border-box}.ec-container .ec-more-modal .ec-more-dialog .ec-more-header{display:flex;flex-direction:column;margin-bottom:30px;margin-top:30px}.ec-container .ec-more-modal .ec-more-dialog .ec-more-header>div:first-child{color:#777f9d;font-size:14px;font-weight:600}.ec-container .ec-more-modal .ec-more-dialog .ec-more-header>div:last-child{color:#1b1f34;font-size:24px;font-weight:700}.ec-container .ec-more-modal .ec-more-dialog::-webkit-scrollbar{width:2px}.ec-container .ec-more-modal .ec-more-dialog::-webkit-scrollbar-track{box-shadow:inset 0 0 2px grey;border-radius:5px}.ec-container .ec-more-modal .ec-more-dialog::-webkit-scrollbar-thumb{background:#5148aa;border-radius:5px}.ec-container .ec-more-modal .ec-more-dialog::-webkit-scrollbar-thumb:hover{background:#5148aa}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list{margin-bottom:10px}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list .ec-more-pro{display:flex;justify-content:flex-start;align-items:flex-start;padding:6px;border-radius:4px;cursor:pointer}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list .ec-more-pro>div{color:#1b1f34;font-size:12px;line-height:12px;font-weight:600}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list .ec-more-pro>div:first-child{margin-right:5px}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list .ec-more-pro>div:first-child img{width:26px}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list .ec-more-pro>div:last-child>div:first-child{margin-bottom:2px;white-space:nowrap;width:200px;overflow:hidden;text-overflow:ellipsis;line-height:14px;text-transform:capitalize}.ec-container .ec-more-modal .ec-more-dialog .ec-more-lists .ec-more-list .ec-more-pro>div:last-child>div:last-child{color:#777f9d;font-size:10px;line-height:12px}.ec-popup{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(81,72,170,.8);z-index:99}.ec-popup>.ec-modal{display:flex;justify-content:center;align-items:center;height:100%}.ec-popup>.ec-modal>.ec-box{width:440px;background-color:#fff;border-radius:6px;padding:30px}.ec-box>.tt{color:#1b1f34;font-size:18px;line-height:18px;font-weight:700;margin-bottom:30px}.ec-box>.bb{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.ec-box>.bb>button{width:48%;cursor:pointer;color:#1b1f34;font-size:14px;line-height:18px;padding:9px 7.5px;outline:none;border-radius:6px}.ec-box>.bb>button:first-child{border:1px solid #f1f0fe;background:#f1f0fe;margin-right:10px}.ec-box>.bb>button.active:first-child{border:1px solid #b3abfa}.ec-box>.bb>button:last-child{border:1px solid #edf7fe;background:#edf7fe}.ec-box>.bb>button.active:last-child{border:1px solid #9dd3f8}.ec-box>.cc{display:flex;margin-top:50px;margin-bottom:0}.ec-box>.cc>button{cursor:pointer;padding:7px 12px;font-size:14px;font-weight:700}.ec-box>.cc>.blue-btn{background-color:#5148aa;color:#fff;margin-right:10px}.ec-box>.cc>.grey-btn{background-color:#e7e8ed;color:#777f9d;border:none;border-radius:4px}.ec-box>.dd>div{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.ec-box>.dd>div>div:last-child{width:294px;margin-bottom:0}.ec-box>.dd input,.ec-box>.dd select,.ec-time>div>input{font-size:12px;height:40px;padding:4px 10px}.ec-dates{display:flex;justify-content:space-between;align-items:center}.ec-dates .custom-date{width:142px}"]
            },] }
];
EventcalendarComponent.ctorParameters = () => [];
EventcalendarComponent.propDecorators = {
    options: [{ type: Input }],
    addEvent: [{ type: Output }],
    updateEvent: [{ type: Output }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRjYWxlbmRhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9ldmVudGNhbGVuZGFyL3NyYy9saWIvZXZlbnRjYWxlbmRhci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFFVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWixpQkFBaUIsR0FDbEIsTUFBTSxlQUFlLENBQUM7QUFVdkIsTUFBTSxPQUFPLHNCQUFzQjtJQWdDakM7UUEvQlMsWUFBTyxHQUFRLEVBQUUsQ0FBQztRQUVqQixhQUFRLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUNuQyxnQkFBVyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFFaEQsY0FBUyxHQUFXLENBQUMsQ0FBQztRQUN0QixVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBQ2xCLFdBQU0sR0FBZSxFQUFFLENBQUM7UUFDeEIsZ0JBQVcsR0FBZSxFQUFFLENBQUM7UUFDN0IsZ0JBQVcsR0FBZSxFQUFFLENBQUM7UUFDN0IsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFDaEMsa0JBQWEsR0FBWSxLQUFLLENBQUM7UUFDL0IsaUJBQVksR0FBVyxFQUFFLENBQUM7UUFHMUIsZ0JBQVcsR0FBUSxFQUFFLENBQUM7UUFDdEIsa0JBQWEsR0FBa0IsRUFBRSxDQUFDO1FBQ2xDLGlCQUFZLEdBQWtCLEVBQUUsQ0FBQztRQUVqQyxVQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ25CLHNCQUFpQixHQUFXLEVBQUUsQ0FBQztRQUMvQix3QkFBbUIsR0FBVyxFQUFFLENBQUM7UUFDakMsNEJBQXVCLEdBQVksSUFBSSxDQUFDO1FBQ3hDLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFFN0IsWUFBTyxHQUFRLEVBQUUsQ0FBQztRQUNsQixjQUFTLEdBQVEsRUFBRSxDQUFDO1FBQ3BC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RSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELGNBQWMsQ0FBQyxDQUFNO1FBQ25CLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsY0FBYztRQUNaLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1FBQzNCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQzNCLENBQUM7OztZQXhYRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHVCQUF1QjtnQkFDakMsbXRWQUE2QztnQkFFN0MsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7O2FBQ3RDOzs7O3NCQUVFLEtBQUs7dUJBRUwsTUFBTTswQkFDTixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlcixcbiAgVmlld0VuY2Fwc3VsYXRpb24sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBDYWxlbmRhciB9IGZyb20gJy4uL2xpYi9DYWxlbmRhcic7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FuZ3VsYXItZXZlbnRjYWxlbmRhcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9ldmVudGNhbGVuZGFyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vZXZlbnRjYWxlbmRhci5jb21wb25lbnQuY3NzJ10sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG59KVxuZXhwb3J0IGNsYXNzIEV2ZW50Y2FsZW5kYXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKSBvcHRpb25zOiBhbnkgPSB7fTtcblxuICBAT3V0cHV0KCkgYWRkRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIHVwZGF0ZUV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgZ290b01vbnRoOiBudW1iZXIgPSAwO1xuICBjb3VudDogbnVtYmVyID0gMDtcbiAgZXZlbnRzOiBBcnJheTxhbnk+ID0gW107XG4gIGFjdXRhbEV2ZW50OiBBcnJheTxhbnk+ID0gW107XG4gIGZpbHRlckV2ZW50OiBBcnJheTxhbnk+ID0gW107XG4gIGlzRXZlbnRDbGlja2VkOiBib29sZWFuID0gZmFsc2U7XG4gIG9wZW5Nb3JlTW9kYWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY3VycmVudE1vbnRoOiBzdHJpbmcgPSAnJztcbiAgbmF2TW9udGhzOiBhbnk7XG4gIGRheVN0cmluZzogYW55O1xuICBkaXNwbGF5RGF0ZTogYW55ID0gJyc7XG4gIHdlZWtkYXlzU2hvcnQ6IEFycmF5PFN0cmluZz4gPSBbXTtcbiAgd2Vla2RheXNMb25nOiBBcnJheTxTdHJpbmc+ID0gW107XG5cbiAgdGl0bGU6IHN0cmluZyA9ICcnO1xuICBidG5QcmltYXJ5QmdDb2xvcjogc3RyaW5nID0gJyc7XG4gIGJ0blByaW1hcnlGb250Q29sb3I6IHN0cmluZyA9ICcnO1xuICBzaG93RXZlbnRQcm9maWxlUGljdHVyZTogYm9vbGVhbiA9IHRydWU7XG4gIGlzQWRkU2hvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNFZGl0U2hvd246IGJvb2xlYW4gPSBmYWxzZTtcblxuICBldmVudElEOiBhbnkgPSAnJztcbiAgZXZlbnROYW1lOiBhbnkgPSAnJztcbiAgc3RhcnREYXRlOiBhbnkgPSAnJztcbiAgZW5kRGF0ZTogYW55ID0gJyc7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRzID0gdGhpcy5vcHRpb25zLmV2ZW50cyB8fCBbXTtcblxuICAgIHRoaXMudGl0bGUgPVxuICAgICAgdGhpcy5vcHRpb25zLnRpdGxlID09PSAnJyB8fCB0aGlzLm9wdGlvbnMudGl0bGUgPT09IHVuZGVmaW5lZFxuICAgICAgICA/ICdNeSBDYWxlbmRhcidcbiAgICAgICAgOiB0aGlzLm9wdGlvbnMudGl0bGU7XG5cbiAgICB0aGlzLmJ0blByaW1hcnlCZ0NvbG9yID1cbiAgICAgIHRoaXMub3B0aW9ucy5idG5QcmltYXJ5QmdDb2xvciA9PT0gJycgfHxcbiAgICAgIHRoaXMub3B0aW9ucy5idG5QcmltYXJ5QmdDb2xvciA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gJyM3NDY2ZjUnXG4gICAgICAgIDogdGhpcy5vcHRpb25zLmJ0blByaW1hcnlCZ0NvbG9yO1xuXG4gICAgdGhpcy5idG5QcmltYXJ5Rm9udENvbG9yID1cbiAgICAgIHRoaXMub3B0aW9ucy5idG5QcmltYXJ5Rm9udENvbG9yID09PSAnJyB8fFxuICAgICAgdGhpcy5vcHRpb25zLmJ0blByaW1hcnlGb250Q29sb3IgPT09IHVuZGVmaW5lZFxuICAgICAgICA/ICcjZmZmJ1xuICAgICAgICA6IHRoaXMub3B0aW9ucy5idG5QcmltYXJ5Rm9udENvbG9yO1xuXG4gICAgdGhpcy5zaG93RXZlbnRQcm9maWxlUGljdHVyZSA9XG4gICAgICB0aGlzLm9wdGlvbnMuc2hvd0V2ZW50UHJvZmlsZVBpY3R1cmUgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgdGhpcy53ZWVrZGF5c1Nob3J0ID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXTtcblxuICAgIHRoaXMud2Vla2RheXNMb25nID0gW1xuICAgICAgJ1N1bmRheScsXG4gICAgICAnTW9uZGF5JyxcbiAgICAgICdUdWVzZGF5JyxcbiAgICAgICdXZWRuZXNkYXknLFxuICAgICAgJ1RodXJzZGF5JyxcbiAgICAgICdGcmlkYXknLFxuICAgICAgJ1NhdHVyZGF5JyxcbiAgICBdO1xuXG4gICAgdGhpcy5ldmVudENhbGVuZGFyKCk7XG5cbiAgICBjb25zdCBkID0gbmV3IERhdGUoKTtcblxuICAgIGNvbnN0IGRheSA9IGQuZ2V0RGF0ZSgpO1xuICAgIGNvbnN0IG1vbnRoID0gZC5nZXRNb250aCgpO1xuICAgIGNvbnN0IHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxMjsgaSsrKSB7XG4gICAgICB2YXIgZHQgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTtcbiAgICAgIGR0LnNldE1vbnRoKGR0LmdldE1vbnRoKCkgKyAoNiAtICgxMiAtIGkpKSk7XG5cbiAgICAgIGNvbnN0IG1vbnRoTGlzdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBtb250aExpc3RzLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsICg2IC0gKDEyIC0gaSkpLnRvU3RyaW5nKCkpO1xuICAgICAgbW9udGhMaXN0cy5pbm5lclRleHQgPVxuICAgICAgICBkdC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgeyBtb250aDogJ3Nob3J0JyB9KSArICcsICcgKyB5ZWFyO1xuICAgICAgbW9udGhMaXN0cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0U2VsZWN0TW9udGgoZSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVjLWRyb3Bkb3duLWNvbnRlbnQnKT8uYXBwZW5kQ2hpbGQobW9udGhMaXN0cyk7XG4gICAgfVxuICB9XG5cbiAgZXZlbnRDYWxlbmRhcigpIHtcbiAgICBjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAodGhpcy5nb3RvTW9udGggIT09IDApIHtcbiAgICAgIGR0LnNldE1vbnRoKG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIHRoaXMuZ290b01vbnRoKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXkgPSBkdC5nZXREYXRlKCk7XG4gICAgY29uc3QgbW9udGggPSBkdC5nZXRNb250aCgpO1xuICAgIGNvbnN0IHllYXIgPSBkdC5nZXRGdWxsWWVhcigpO1xuXG4gICAgY29uc3QgbnVtYmVyT2ZEYXlzSW5Nb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMCkuZ2V0RGF0ZSgpO1xuICAgIGNvbnN0IG51bWJlck9mRGF5c0luUHJldk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTtcbiAgICBjb25zdCBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSk7XG5cbiAgICBjb25zdCBmaW5kTmFtZU9mRGF5ID0gZmlyc3REYXlPZk1vbnRoLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7XG4gICAgICB3ZWVrZGF5OiAnbG9uZycsXG4gICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICBtb250aDogJ251bWVyaWMnLFxuICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgfSk7XG5cbiAgICB0aGlzLmN1cnJlbnRNb250aCA9XG4gICAgICBkdC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgeyBtb250aDogJ3Nob3J0JyB9KSArICcsICcgKyB5ZWFyO1xuXG4gICAgY29uc3QgcGFkZGluZ0RheXMgPSB0aGlzLndlZWtkYXlzTG9uZy5pbmRleE9mKGZpbmROYW1lT2ZEYXkuc3BsaXQoJywgJylbMF0pO1xuXG4gICAgY29uc3QgcHJldk1vbnRoc1JlbWFpbmluZ0RheXMgPSBudW1iZXJPZkRheXNJblByZXZNb250aCAtIHBhZGRpbmdEYXlzICsgMTtcbiAgICBjb25zdCBuZXh0TW9udGhzUmVtYWluaW5nRGF5cyA9IDQyIC0gKHBhZGRpbmdEYXlzICsgbnVtYmVyT2ZEYXlzSW5Nb250aCk7XG5cbiAgICB2YXIgcmVtb3ZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVjLWRhdGVzJyk7XG4gICAgd2hpbGUgKHJlbW92ZT8ubGFzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgcmVtb3ZlLnJlbW92ZUNoaWxkKHJlbW92ZS5sYXN0RWxlbWVudENoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAocGFkZGluZ0RheXMgIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSBwcmV2TW9udGhzUmVtYWluaW5nRGF5czsgaSA8PSBudW1iZXJPZkRheXNJblByZXZNb250aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnZWMtZHQnKTtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnZWMtZHQtY2hpbGQnLCAnZWMtZHQtZGlzYWJsZScpO1xuICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZHQnLCBgJHt5ZWFyfS0ke21vbnRofS0ke2l9YCk7XG5cbiAgICAgICAgY2hpbGQuaW5uZXJUZXh0ID0gaS50b1N0cmluZygpO1xuXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lYy1kYXRlcycpPy5hcHBlbmRDaGlsZChwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bWJlck9mRGF5c0luTW9udGg7IGkrKykge1xuICAgICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnZWMtZHQnKTtcbiAgICAgIGNvbnN0IGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdlYy1kdC1jaGlsZCcpO1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdkYXRhLWR0JywgYCR7eWVhcn0tJHttb250aCArIDF9LSR7aX1gKTtcblxuICAgICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdlYy1kYXRlJyk7XG4gICAgICBkYXRlLnN0eWxlLm9yZGVyID0gJzEnO1xuICAgICAgZGF0ZS5pbm5lclRleHQgPSBpLnRvU3RyaW5nKCk7XG4gICAgICBjaGlsZC5hcHBlbmRDaGlsZChkYXRlKTtcblxuICAgICAgY29uc3QgZGF5U3RyaW5nOiBhbnkgPSBgJHt5ZWFyfS0ke21vbnRoICsgMX0tJHtpfWA7XG5cbiAgICAgIGNvbnN0IG1vcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgdGhpcy5ldmVudHMuZmlsdGVyKChlOiBhbnksIGk6IGFueSkgPT5cbiAgICAgICAgbmV3IERhdGUoZGF5U3RyaW5nKS5nZXRUaW1lKCkgPj0gbmV3IERhdGUoZS5zdGFydERhdGUpLmdldFRpbWUoKSAmJlxuICAgICAgICBuZXcgRGF0ZShkYXlTdHJpbmcpLmdldFRpbWUoKSA8PSBuZXcgRGF0ZShlLmVuZERhdGUpLmdldFRpbWUoKVxuICAgICAgICAgID8gKGNoaWxkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTmF2aWdhdGlvbkJhcihlLCBpKSksXG4gICAgICAgICAgICB0aGlzLmNvdW50ID4gM1xuICAgICAgICAgICAgICA/IChtb3JlLmNsYXNzTGlzdC5hZGQoJ2VjLW1vcmUnKSxcbiAgICAgICAgICAgICAgICAobW9yZS5pbm5lclRleHQgPSAnKycgKyAodGhpcy5jb3VudCAtIDMpLnRvU3RyaW5nKCkgKyAnIG1vcmUnKSxcbiAgICAgICAgICAgICAgICBtb3JlLnNldEF0dHJpYnV0ZSgnZGF0YS1kdCcsIGRheVN0cmluZyksXG4gICAgICAgICAgICAgICAgbW9yZS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd01vcmUoKTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgOiBudWxsKVxuICAgICAgICAgIDogbnVsbFxuICAgICAgKTtcblxuICAgICAgY29uc3Qgc2hvd01vcmUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmlsdGVyRXZlbnQgPSBbXTtcbiAgICAgICAgdGhpcy5hY3V0YWxFdmVudCA9IFtdO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheURhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgaSkudG9Mb2NhbGVEYXRlU3RyaW5nKFxuICAgICAgICAgICdlbi11cycsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5maWx0ZXIoKGY6IGFueSwgaTogYW55KSA9PlxuICAgICAgICAgIG5ldyBEYXRlKGRheVN0cmluZykuZ2V0VGltZSgpID49IG5ldyBEYXRlKGYuc3RhcnREYXRlKS5nZXRUaW1lKCkgJiZcbiAgICAgICAgICBuZXcgRGF0ZShkYXlTdHJpbmcpLmdldFRpbWUoKSA8PSBuZXcgRGF0ZShmLmVuZERhdGUpLmdldFRpbWUoKVxuICAgICAgICAgICAgPyB0aGlzLmFjdXRhbEV2ZW50LnB1c2goZilcbiAgICAgICAgICAgIDogJydcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmZpbHRlckV2ZW50ID0gWy4uLm5ldyBTZXQodGhpcy5hY3V0YWxFdmVudCldO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbHRlckV2ZW50KTtcblxuICAgICAgICB0aGlzLmRheVN0cmluZyA9IGRheVN0cmluZztcbiAgICAgICAgdGhpcy5vcGVuTW9yZU1vZGFsID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIGNoaWxkLmFwcGVuZENoaWxkKG1vcmUpO1xuICAgICAgdGhpcy5jb3VudCA9IDA7XG5cbiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWMtZGF0ZXMnKT8uYXBwZW5kQ2hpbGQocGFyZW50KTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuZXh0TW9udGhzUmVtYWluaW5nRGF5czsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHBhcmVudC5jbGFzc0xpc3QuYWRkKCdlYy1kdCcpO1xuICAgICAgY29uc3QgY2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ2VjLWR0LWNoaWxkJywgJ2VjLWR0LWRpc2FibGUnKTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZGF0YS1kdCcsIGAke3llYXJ9LSR7bW9udGggKyAyfS0ke2l9YCk7XG5cbiAgICAgIGNoaWxkLmlubmVyVGV4dCA9IGkudG9TdHJpbmcoKTtcblxuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lYy1kYXRlcycpPy5hcHBlbmRDaGlsZChwYXJlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZU5hdmlnYXRpb25CYXIoZTogYW55LCBpOiBhbnkpIHtcbiAgICB0aGlzLmNvdW50ID0gdGhpcy5jb3VudCArIDE7XG5cbiAgICBpZiAodGhpcy5jb3VudCA8PSAzKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmlkTmF2aWdhdGlvbkJhcihlLCB0cnVlLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JpZE5hdmlnYXRpb25CYXIoZSwgZmFsc2UsIGkpO1xuICAgIH1cbiAgfVxuXG4gIGdyaWROYXZpZ2F0aW9uQmFyKGU6IGFueSwgdG9nZ2xlOiBhbnksIGk6IGFueSkge1xuICAgIGNvbnN0IGV2ZW50QmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZXZlbnRCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZS5iYWNrZ3JvdW5kO1xuXG4gICAgaWYgKHRvZ2dsZSkge1xuICAgICAgZXZlbnRCYXIuY2xhc3NMaXN0LmFkZCgnZWMtZXZlbnQtdGl0bGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRCYXIuY2xhc3NMaXN0LmFkZCgnZWMtZXZlbnQtdGl0bGUnLCAnZWMtZXh0cmEnKTtcbiAgICB9XG4gICAgZXZlbnRCYXIuc3R5bGUub3JkZXIgPSBpICsgMjtcbiAgICBldmVudEJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgdGhpcy5zZWxlY3RFdmVudChlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGlmICh0aGlzLnNob3dFdmVudFByb2ZpbGVQaWN0dXJlKSB7XG4gICAgICBpZiAoZS50aHVtYm5haWwpIHtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgZS50aHVtYm5haWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAnc3JjJyxcbiAgICAgICAgICBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnRUFZQUFBQWo2cWEzQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQUJnQUFBQVlBRHdhMExQQUFBQUIzUkpUVVVINVFnV0FnZ01EYlJ4WGdBQUJ2bEpSRUZVYU43bFdIOVFWTmNWUHVjQllZR0VGaENXZlEvZXhTYWtXUXdvK3g2RWFrQmxKbWJBeVFoUkNWYWhhbFE2VmpUNFk1cllSaHQxMGpyYXJGclRDYlRTOFVmU2lBYU1EWVNhcW9NaUFSZUlpRmFVV2xnVVJkY2FDNkpMM2QzVFAvQTk3RHFKeXU2NmsrbjMzN252dlBPZDg5MTczenYzSW5nWXdyOWl0a3FHRjE2QVRZNWN5TTNQaDI0SXdMUHA2ZENONnlBME9scDFmQkcyUTN4WEYraEJRK21IRHVFeDdpbWN1R1BIUldOSFMyUDc4ZU9leWcvZEhWQVVSVEUrUGlURWRncGY5VThwS1VFOVZNQlgwNmJkNXhnRGIwTDR0V3VxM1FtL0FjdUlFVVBLQVFPWkNJSmhNMFh1MmVQN0JZeXhyUzRvTUtNWlcvREdEVThKTXZ6Q3E4VnFTZExwaEhUeGhCemIxaVlJak1reWtmQmIwU0Y5M05FaG1NV0ZTV1BueitkNytkNmtpMkZoenU4cjQ0cWZVQ2kyeTFzNk85VTRkK015WXBRMFBUTFMyL1dxa0F5U1FUTDQrZkZtc1ZwZVdWK3ZKTXovUXV5V1ZwV1hhMS9TdnBTd0lTam9VZU1xN3drbXNWcmVYVkdoQ3VFamRzaUh2dnhTNGZWMi9jQ0hpaWZrMkVXTDFBUXIyUjY1L3NpUnVMSzRzcml5SjU1d05iNFNSeWhrdVhKYWJhMHE4Q1kyUDJua3dvVmVMaDlSWGFyWkxFL2VacmRIMTBiWEptMGROY3JkVEZGRlVVV1NJVDVlNFZHMmx0ZEs1OHNZSlUwZk0wYWRrVitMNzBnSGFtbzh6U3RzWnUvSWE0OGVWVmRjNjhoNWhvaUVoT0hHNDRhZHlUb0E4bi91T2RYMmc3OXorWFYxbmhhQUdtQVZKQjQ3cHRvZjAzKzRUcjMrOFF1d0UvYlRtWkFRMWY0bGFHamc2Njg5TFFDVTAyekl1MzVkdFhOb0txV0doajUyQVRDREZnRU4vY2R4UGxiaHJZZ0lUOWVQRXF5Qzk3VmExZjQzUFl2anJsNTk3QUxRRDduUE1QdmtTWFVnQVRMcGt3a1RQQzBBcE9GTWFMeUg1NnI5dEkvbG5qd2VONFJkYkx4VWZ2cTArakhVaUQrUlE4YU5jemVQTGlGNnRtRldhcXJLOHluYklJOXFiWFUxN3ZDL0FYZmhHQS96SUhMZE9zWEdQMkluYlNzcENjMTRaa3R5ZTNDd3EvR1ZPTngwN2dBM3FiaFlmWEFjVzhFMHhPdGxJQXBUMlU2cGJ2OSs1NDR0ZW4zMCtzU3hQUCtvRWFPS29vcFNMZ2lDYzRjcDdCQTN5TFAyN1ZONFhjM2MxejBDRUZuek5ZYzFyOHljcVpscjNUaFFXVmtKQzNBQ0xFcE5kZHlHOTdqdGJXMzhJWEd6ZEhqclZoOFRXWDErVjE1dWJiUTIzbHpiMXFaRThQL0kvNk9nbit2MWpxUGM3eDNMc3JQcFF3eXdOUlFXNGxnb2dBTlBQa2xHMmtDbW1wb0IvNEJxellpOFBJWFg1YWx6andCRFVGclhHL3Y2cHdjR3Jsa0RIMEFraVV1V29CNDBPRmVqZVdoSno0Q1ZTcTFXYUtTVmNNUm8xQzBQM3c2bHExYzNOVGMxTnpYZnVlT3VmTjB1Z0RPRVFxRXd1VDBxaWpKOEQ5cHpYM3NOOU5DSEk5UFQ0U1FzaGpPaXFEb213QmJRZDNWQkdFeWw3SU1IdWRWMjlFdmJ2ZnVpOGFLeFBycTcyOU41L3QvQ3d5dUE0d2JQN3hFUnRoZXhBbitnMVJKekxIR2tob2QvWTBKbWJqTjMxR0x4cmFWcyt1ZVZLMlkwbzJuUGxTdURUMTNmOHg0U0FKSHZGYk1NNzA2ZURCYk01UDZVazROUHcxL3BMNU1uZ3dDTk9HdjRyU3AwZzB5N3JsK244L0F5dmxKWkNlRlU1WmhUVm5ZcHVHdGY4OHJLU2xlRkdiWUFTbU9DbXpDUmE5KzRFZlB3UGJBbko2c09mYUNEVTdkdlF6LzlHYXBhV3FBZXpvS2xwNGVhOER4MVdDd1FEMG1RYzAvaXJXQ0NNa1FNcEZ0NEtpSUM1c0EwbUt2VlFoRE9nTXpSbytFcHVBelBCd1FvN2xSSHhUQ3BvWUdxS1phcWx5Ky9YSERoNmFibTJscjNUT2kzZ0s5aWNaSzBiSmxReU42V3ZyTFoxUC96czh4ZityeXVUbmN0cGtCcW16SkZWNndybHFUQVFGZjVsRGk2WWthU2xKV2w5QmNxNzkwOCtGNzJodlRoMHFXZUsveWN1Rmk2YWpTcXhMOFNQNUZPOS9ieUNZemtXYm01SGxmZVdaZ0xiS2RVTjJPR2tvZmFJdC9OMDIxRVFrN01GRG14b0VBbCtJRDV5K0dYTDBjT3NKVEV2dUdmdzkyRnlEbmlXOG50Y1hIQysySzM5SStlSG5XQy9pQ0s4bWNMRnJnY21QOUNQQ012SGhnUVhtY2w4dDYrUHA2eFhEa3RNZEhiaFR0RFZ5eFdTNUxCSUx6TTNwSlgzTHlwNUQyNGRlNjV1SGxZM0hjYk81cDlMdk5GUmQ0dTlFSGdKNHJiNWJVclZxZ3I5amliS0d2MzduM29BTXFscHBETTB1U2ZPaHg4RnpQS0plM3RBQURqeWRkTlp3ZlBRYjJtMzhVbXlUSG56eXQxS0N2YTJmKys0N0E5RkNXSEpqc2J1c0VNalloNEZ0Nmc0bTNiQUFCcTBHYnpkb0VQZ25KV3dJWFFDejJscFVvZFBwY1FIQ1ZaV1E4VUFKZGhDdVJuWkNnMnZZc25NYXVpd3R1RlBTcnNGZ0M3cGJ4Y0hjZ0VEUVFQMWZXTkFzRDNhU211ajQyRjUrSEhNTEcvLzlMaHp0R05idzl1Z2U4U2V2ek45Yy9NUFhjT3ZnYy9nc0JidDhDWDV0R00yRmhudi8vWjArUEoxeGVzK0xmKzByQXd5cVdaVUdXMzgzbXNTWTc1N2drQUFOQmhBcUE3TkJ0MGZuNjRIOS9FbXNFemlQSXRxMEdiemFrVjVqaStoWDBxLyt6RUNjeUV4ZEFRSCsvdEl0d0ZXZ05HcWpHWkxyMXVmclVwS0NWbGNOVGgrQy92T1BsVElybnhUQUFBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeU1TMHdPQzB5TWxRd01qb3dPRG94TVNzd01Eb3dNRmpmVklZQUFBQWxkRVZZZEdSaGRHVTZiVzlrYVdaNUFESXdNakV0TURndE1qSlVNREk2TURnNk1URXJNREE2TURBcGd1dzZBQUFBQUVsRlRrU3VRbUNDYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZXZlbnRCYXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9IGUudGl0bGU7XG4gICAgdGl0bGUuc2V0QXR0cmlidXRlKCd0aXRsZScsIGUudGl0bGUpO1xuICAgIGV2ZW50QmFyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICByZXR1cm4gZXZlbnRCYXI7XG4gIH1cblxuICBhZGRVbmF2YWlsYWJsZSgpIHtcbiAgICB0aGlzLmlzQWRkU2hvd24gPSB0cnVlO1xuICAgIHRoaXMuaXNFZGl0U2hvd24gPSBmYWxzZTtcbiAgfVxuXG4gIGV2ZW50VGl0bGUoZTogYW55KSB7XG4gICAgdGhpcy5ldmVudE5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgfVxuXG4gIGV2ZW50U3RhcnREYXRlKGU6IGFueSkge1xuICAgIGxldCBzdGFydCA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICBsZXQgc2QgPSBuZXcgRGF0ZShzdGFydCk7XG4gICAgdGhpcy5zdGFydERhdGUgPVxuICAgICAgc2QuZ2V0RnVsbFllYXIoKSArICctJyArIChzZC5nZXRNb250aCgpICsgMSkgKyAnLScgKyBzZC5nZXREYXRlKCk7XG4gIH1cblxuICBldmVudEVuZERhdGUoZTogYW55KSB7XG4gICAgbGV0IGVuZCA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICBsZXQgZWQgPSBuZXcgRGF0ZShlbmQpO1xuICAgIHRoaXMuZW5kRGF0ZSA9XG4gICAgICBlZC5nZXRGdWxsWWVhcigpICsgJy0nICsgKGVkLmdldE1vbnRoKCkgKyAxKSArICctJyArIGVkLmdldERhdGUoKTtcbiAgfVxuXG4gIGFkZE5ld0V2ZW50KGU6IGFueSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgbmV3RXZlbnQgPSB7XG4gICAgICB0aXRsZTogdGhpcy5ldmVudE5hbWUsXG4gICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLFxuICAgICAgZW5kRGF0ZTogdGhpcy5lbmREYXRlLFxuICAgIH07XG4gICAgY29uc29sZS5sb2cobmV3RXZlbnQpO1xuICAgIHRoaXMuYWRkRXZlbnQuZW1pdChuZXdFdmVudCk7XG4gICAgdGhpcy5jYW5jZWwoKTtcbiAgfVxuXG4gIHNlbGVjdEV2ZW50KGU6IGFueSkge1xuICAgIHRoaXMuaXNBZGRTaG93biA9IGZhbHNlO1xuICAgIHRoaXMub3Blbk1vcmVNb2RhbCA9IGZhbHNlO1xuICAgIHRoaXMuaXNFZGl0U2hvd24gPSB0cnVlO1xuXG4gICAgbGV0IHMgPSBuZXcgRGF0ZShlLnN0YXJ0RGF0ZSk7XG4gICAgbGV0IHN0YXJ0ID0gcy5nZXRGdWxsWWVhcigpICsgJy0nICsgKHMuZ2V0TW9udGgoKSArIDEpICsgJy0nICsgcy5nZXREYXRlKCk7XG5cbiAgICBsZXQgZWQgPSBuZXcgRGF0ZShlLmVuZERhdGUpO1xuICAgIGxldCBlbmQgPSBlZC5nZXRGdWxsWWVhcigpICsgJy0nICsgKGVkLmdldE1vbnRoKCkgKyAxKSArICctJyArIGVkLmdldERhdGUoKTtcblxuICAgIHRoaXMuZXZlbnRJRCA9IGUuaWQ7XG4gICAgdGhpcy5ldmVudE5hbWUgPSBlLnRpdGxlO1xuICAgIHRoaXMuc3RhcnREYXRlID0gbmV3IERhdGUoc3RhcnQpO1xuICAgIHRoaXMuZW5kRGF0ZSA9IG5ldyBEYXRlKGVuZCk7XG4gIH1cblxuICB1cGRhdGUoZTogYW55KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbGV0IHMgPSBuZXcgRGF0ZSh0aGlzLnN0YXJ0RGF0ZSk7XG4gICAgbGV0IHN0YXJ0ID0gcy5nZXRGdWxsWWVhcigpICsgJy0nICsgKHMuZ2V0TW9udGgoKSArIDEpICsgJy0nICsgcy5nZXREYXRlKCk7XG5cbiAgICBsZXQgZWQgPSBuZXcgRGF0ZSh0aGlzLmVuZERhdGUpO1xuICAgIGxldCBlbmQgPSBlZC5nZXRGdWxsWWVhcigpICsgJy0nICsgKGVkLmdldE1vbnRoKCkgKyAxKSArICctJyArIGVkLmdldERhdGUoKTtcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIGlkOiB0aGlzLmV2ZW50SUQsXG4gICAgICB0aXRsZTogdGhpcy5ldmVudE5hbWUsXG4gICAgICBzdGFydERhdGU6IHN0YXJ0LFxuICAgICAgZW5kRGF0ZTogZW5kLFxuICAgIH07XG4gICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgIHRoaXMudXBkYXRlRXZlbnQuZW1pdChldmVudCk7XG4gICAgdGhpcy5jYW5jZWwoKTtcbiAgfVxuXG4gIHByZXZpb3VzTW9udGgoKSB7XG4gICAgdGhpcy5nb3RvTW9udGggPSB0aGlzLmdvdG9Nb250aCAtIDE7XG4gICAgdGhpcy5ldmVudENhbGVuZGFyKCk7XG4gIH1cblxuICBuZXh0TW9udGgoKSB7XG4gICAgdGhpcy5nb3RvTW9udGggPSB0aGlzLmdvdG9Nb250aCArIDE7XG4gICAgdGhpcy5ldmVudENhbGVuZGFyKCk7XG4gIH1cblxuICBnZXRTZWxlY3RNb250aChlOiBhbnkpIHtcbiAgICB2YXIgcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgIHRoaXMuZ290b01vbnRoID0gcGFyc2VJbnQocyk7XG4gICAgdGhpcy5ldmVudENhbGVuZGFyKCk7XG4gIH1cblxuICBjbG9zZU1vcmVNb2RhbCgpIHtcbiAgICB0aGlzLm9wZW5Nb3JlTW9kYWwgPSBmYWxzZTtcbiAgICB0aGlzLmV2ZW50Q2FsZW5kYXIoKTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLmlzQWRkU2hvd24gPSBmYWxzZTtcbiAgICB0aGlzLmlzRWRpdFNob3duID0gZmFsc2U7XG4gIH1cbn1cbiJdfQ==